<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Casablanca</title>

    <!-- Bootstrap -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
      section {
        display: none;
      }
      .active-view {
        display: block;
      }
      .input-xxlarge{
        width:410px
      }
    </style>
  </head>
  <body>

  	<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Casablanca</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active-view"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="row">

      

      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li><a href="#server-choice"><i class="icon-chevron-right"></i> Server choice</a></li>
          <li><a href="#profiles"><i class="icon-chevron-right"></i> Profiles</a></li>
          <li><a href="#search"><i class="icon-chevron-right"></i> Search</a></li>
        </ul>
      </div>


      <div class="span9">
        <div id="alert-container">
      </div>

      <section id="about">

		      <h2>About</h2>

		      <p>Casablanca is part of a Scientific Initiation project at UFRJ (Universidade Federal do Rio de Janeiro). It is distrubuted under the Apache 2.0 license.</p>
          
          <p>For more information and build/install instruction have a look on the project's 
            <a href="https://github.com/athy/Casablanca" target="_blank">github page</a>.</p>
		  </section>

      <section id="home" class="active-view">
          <h2>Casablanca</h2>

          <p>Semantic Web Annotation is the process of mapping ambiguous named entities that appears in free-text to universal identiers, typically made available by a Linked Data provider such as DBpedia or Freebase. This remains a time consuming process, as it is usually performed by human experts with little or no computational assistance.</p>
          
          <p>Casablanca is a tool built in order to make Semantic Web Annotation an accessible process for any dataset. Casablanca's approach is to request a minimal configuration describing a dataset. It then provides unied programming and user interfaces to realize annotation based on this conguration. To perform the necessary disambiguation between named entities, Casablanca relies on existing data available in the targeted dataset.</p>

          <p><a href="#server-choice" class="btn">Get started</a></p>
      </section>

		  <section id="contact">

		      <h2>Contact information</h2>
		      <p>I'm Arthur, you can contact me at <a href="mailto:arthur.bitmonnot@gmail.com">arthur.bitmonnot@gmail.com</a></p>

		  </section>

      <section id="server-choice">

          <h2>Server Selection</h2>
          <p>Please give us the address of the Casablanca Web Service</p>
          <form name="server-info" class="form-inline">
              <input type="text" id="server-url-text" class="input-xlarge" placeholder="Server URL" value="http://localhost:9998/casablanca"/>
              <input class="btn" id="server-url-but" type="submit" value="Submit"/>
          </form>

      </section>




      <section id="profiles">

          <h2>Profile Selection<button class="btn btn-info btn-small pull-right" id="reload-profiles">Reload</button></h2>
          <div id="profiles-div">
            <p>Sorry no profiles are available right now. Make sure you sure you selected <a href="#server-choice">Casablanca server</a></p>
          </div>

      </section>



      <section id="profile-edit">

        <h2>Profile creation
          <button id="show-profile" class="btn pull-right">Show</button>
          <button id="submit-profile" class="btn pull-right">Submit</button>
        </h2>
        <div class="tabbable"> <!-- Only required for left/right tabs -->

          <ul class="nav nav-tabs">
            <li class="active"><a href="#prof-desc-tab" data-toggle="tab">Description</a></li>
            <li><a href="#search-tab" data-toggle="tab">Search</a></li>
            <li><a href="#properties-tab" data-toggle="tab">Properties</a></li>
          </ul>

          <div class="tab-content">
            <div class="tab-pane active" id="prof-desc-tab">
            </div>
            
            <div class="tab-pane" id="search-tab">
              <div id="search-predicates"></div>
              <button class="btn btn-large btn-block" type="button" id="new-search-predicate">Add new search predicate</button>
            </div>

            <div class="tab-pane" id="properties-tab">
              <div>


        <legend>Property  
          <select id="pConf">
            <option value="light" selected>Light Configuration</option>
            <option value="full">Full Configuration</option>
          </select>
          <button id="delete-property" class="close pull-right">&times;</button>
        </legend>
        <form class="form-horizontal search-pred">
          <div class="control-group">
            <label class="control-label" for="pPred">Label</label>
            <div class="controls">
              <input type="text" id="pPred" placeholder="Name to appear" class="input-xlarge">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="pPred">Predicate</label>
            <div class="controls">
              <input type="text" id="pPred" placeholder="Predicate to retrieve the property" class="input-xxlarge">
            </div>
          </div>
        </form>  
      </div>
            </div>
          </div>
        </div>
          
      </section>



      <section id="search-view">

          <h2>Search for Named Entities</h2>
          <form class="form-search">
            <input id="search-text" type="text" class="input-medium search-query">
            <button id="search-but" type="submit" class="btn">Search</button>
          </form>
          <div id="search-results-div">
            
          </div>
      </section>
      </div>

    </div>

    <script src="lib/jquery-1.8.1.min.js"></script>
    <script src="lib/underscore.js"></script>
    <script src="lib/backbone-min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="lib/handlebars-1.0.0.beta.6.js"></script>

    <script src="profile-edit.js"></script>
    <script src="main.js"></script>

    <script id="profilesTableTpl" type="text/template">
      <table id="profiles-table" class="table">
        <tbody>
        {{#profiles}}
          <tr>
            <td>{{name}}</td>
            <td><button class="btn btn-info btn-small profile-details-btn" value={{id}}>Details</button></td>
            <td><button class="btn btn-primary btn-small profile-choice-btn" value={{id}}>Choose</button></td>
          </tr>
        {{/profiles}}
        </tbody>
      </table>
    </script>

    <script id="searchResultsTpl" type="text/template">
      <table id="results-table" class="table">
        <tbody>
          <tr>
            <th>Score</th>
            <th>Entity</th>
            <th>Info</th>
          </tr>
          {{#search-result}}
          <tr>
            <td>{{global-score}}</td>
            <td><a href={{uri}}>{{uri}}</td>
            <td><button  
                  id={{id}}
                  class="candidate-info btn btn-info btn-small" 
                  rel="popover" 
                  onmouseover="$(this).popover('show');"
                  onmouseout="$(this).popover('hide');">Info</button></td>
          </tr>
          {{/search-result}}
        </tbody>
      </table>
    </script>

    <script id="candidateDetailsTpl" type="text/template">
      <b>Scores</b><br/>
      {{#scores.score}}
      <i>{{label}}:</i> {{value}}<br/>
      {{/scores.score}}

      <b>Properties</b><br/>
      {{#properties.property}}
      <i>{{name}}:</i> {{value}}<br/>
      {{/properties.property}}
    </script>

    <script id="alertTpl" type="text/template">
      <div class="alert alert-block">

        <button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>
        <strong>Warning!</strong> {{.}}
      </div>
    </script>


    <script id="profileDescriptionTpl" type="text/template">
      <form class="form-horizontal">
        <legend>Profile description</legend>
        <div class="control-group">
          <label class="control-label" for="pName">Name</label>
          <div class="controls">
            <input type="text" id="pName" class="input-xxlarge" placeholder="Name" value="{{name}}">
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="pEndPoint">End Point</label>
          <div class="controls">
            <input type="text" id="pEndPoint" class="input-xxlarge" placeholder="End Point URL" value="{{endPoint.url}}">
          </div>
        </div>
      </form>
    </script>

    <script id="searchPredicateTpl" type="text/template">
      <div>
        <legend>Candidate Selection <button id="delete-search-predicate" class="close pull-right">&times;</button></legend>
        <form class="form-horizontal search-pred">
          <div class="control-group">
            <label class="control-label" for="pPred">Search Predicate</label>
            <div class="controls">
              <input type="text" id="pPred" placeholder="Predicate" class="input-xxlarge" value="{{uri}}">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="pSelMeth">Selection Method</label>
            <div class="controls">
              <select id="pSelMeth">
                <option {{#equal "exact" method}}selected{{/equal}} value="exact">Exact</option>
                <option {{#equal "partial" method}}selected{{/equal}} value="partial">Partial</option>
                <option {{#equal "contains" method}}selected{{/equal}} value="contains">Contains</option>
              </select>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="pWeight">Weight</label>
            <div class="controls">
              <input type="text" id="pWeight" placeholder="Weight" value="{{weight}}">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="pLang">Language Tag</label>
            <div class="controls">
              <input type="text" class="input-mini" id="pLang" placeholder="en" value="{{language}}">
            </div>
          </div>
        </form>  
      </div>
    </script>

    <script type="text/xml" id="profileXMLTpl">
      <profile>
        <name>{{description.name}}</name>
        <end-point>
          <url>{{description.endPoint.url}}</url>
        </end-point>
        <search>
          {{#searchPredicates}}
          <search-predicate>
            <uri>{{uri}}</uri>
            <method>{{method}}</method>
            {{#equal "contains" method}}<contains-uri>bif:contains</contains-uri>{{/equal}}
            {{#if weight}}<weight>{{weight}}</weight>{{/if}}
            {{#if language}}<language>{{language}}</language>{{/if}}
          </search-predicate>
          {{/searchPredicates}}
        </search>
        <popularities></popularities>
        <constraints></constraints>
        <properties></properties>
      </profile>
    </script>

  </body>
</html>